# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Render.com

> **–í–∞–∂–Ω–æ**: –í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ –µ—Å—Ç—å `render.yaml` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π! 
> –ü—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Render.com –∫–∞–∫ Blueprint, –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
> 
> –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é: —Å–º. [RENDER_DEPLOY.md](./RENDER_DEPLOY.md)

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Render.com

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—É–∂–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã):

```
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_openai
DATABASE_URL=postgresql://...
```

### –ù–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PDF:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ Python —Å–∫—Ä–∏–ø—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Render.com)

```
# –ü—É—Ç—å –∫ Python-—Å–µ—Ä–≤–∏—Å—É (–µ—Å–ª–∏ –æ–Ω –∑–∞–≥—Ä—É–∂–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
PDF_SERVICE_PATH=/opt/render/project/src/pdf

# –ü—É—Ç—å –∫ Python (–æ–±—ã—á–Ω–æ –Ω–∞ Render.com —ç—Ç–æ python3)
PYTHON_PATH=python3

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Adobe API (–¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PDF –≤ Excel)
ADOBE_CLIENT_ID=–≤–∞—à_adobe_client_id
ADOBE_CLIENT_SECRET=–≤–∞—à_adobe_client_secret

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ credentials —Ñ–∞–π–ª (–µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
# ADOBE_CREDENTIALS_FILE=/opt/render/project/src/pdf/pdfservices-api-credentials.json
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ –æ—Ç–¥–µ–ª—å–Ω–æ–º—É Python-—Å–µ—Ä–≤–∏—Å—É

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ Python-—Å–µ—Ä–≤–∏—Å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –Ω–∞ Render.com:

```
USE_PDF_SERVICE_HTTP=true
PDF_SERVICE_URL=https://–≤–∞—à-python-—Å–µ—Ä–≤–∏—Å.onrender.com
PDF_SERVICE_PORT=8000

# Adobe API credentials –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω—É–∂–Ω—ã –¥–ª—è Python-—Å–µ—Ä–≤–∏—Å–∞
ADOBE_CLIENT_ID=–≤–∞—à_adobe_client_id
ADOBE_CLIENT_SECRET=–≤–∞—à_adobe_client_secret
```

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è Render.com:

### 1. Python –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

–ù–∞ Render.com Python –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è:
- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–∞ –≤—ã–±–µ—Ä–∏—Ç–µ "Environment: Node"
- Python –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `python3` –∏–ª–∏ `python`

### 2. Python-—Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω

**–í–∞—Ä–∏–∞–Ω—Ç A: –ó–∞–≥—Ä—É–∑–∏—Ç—å Python-—Å–µ—Ä–≤–∏—Å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É `/Users/mshaimard/pdf` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –∫–∞–∫ `pdf/`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python –ø—Ä–∏ –¥–µ–ø–ª–æ–µ (—Å–º. –Ω–∏–∂–µ)

**–í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å**
- –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π Web Service –Ω–∞ Render.com –¥–ª—è Python-—Å–µ—Ä–≤–∏—Å–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `USE_PDF_SERVICE_HTTP=true`

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ Python —Å–∫—Ä–∏–ø—Ç–∞, –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

–î–æ–±–∞–≤—å—Ç–µ –≤ `package.json` —Å–∫—Ä–∏–ø—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```json
{
  "scripts": {
    "postinstall": "cd pdf && pip install -r requirements.txt || echo 'Python dependencies not installed'"
  }
}
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ `render.yaml` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```yaml
services:
  - type: web
    name: ikap-backend
    env: node
    buildCommand: npm install && cd pdf && pip3 install -r requirements.txt
    startCommand: npm start
    envVars:
      - key: OPENAI_API_KEY
        sync: false
      - key: DATABASE_URL
        sync: false
      - key: ADOBE_CLIENT_ID
        sync: false
      - key: ADOBE_CLIENT_SECRET
        sync: false
      - key: PDF_SERVICE_PATH
        value: /opt/render/project/src/pdf
      - key: PYTHON_PATH
        value: python3
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ PDF –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥: `üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é X PDF —Ñ–∞–π–ª(–æ–≤) –≤ JSON...`
2. –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: `‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –ø–æ–ª—É—á–µ–Ω–æ X —Ä–µ–∑—É–ª—å—Ç–∞—Ç(–æ–≤)`
3. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞: `‚ùå –û—à–∏–±–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PDF –≤ JSON: ...`

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Python —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Python —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∏–¥–Ω–æ –≤–µ—Ä—Å–∏—é Python
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `PDF_SERVICE_PATH` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`pip install -r requirements.txt`)

### –û—à–∏–±–∫–∞: "Adobe API credentials –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `ADOBE_CLIENT_ID` –∏ `ADOBE_CLIENT_SECRET` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ADOBE_CREDENTIALS_FILE` —Å –ø—É—Ç–µ–º –∫ —Ñ–∞–π–ª—É credentials

### –û—à–∏–±–∫–∞: "Module not found" –ø—Ä–∏ –≤—ã–∑–æ–≤–µ Python
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `PDF_SERVICE_PATH` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å `app/` –≤–Ω—É—Ç—Ä–∏

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–î–ª—è production –Ω–∞ Render.com —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ Python —Å–∫—Ä–∏–ø—Ç–∞ (–Ω–µ HTTP)
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å Python-—Å–µ—Ä–≤–∏—Å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–∞–∫ –ø–æ–¥–ø–∞–ø–∫—É `pdf/`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `buildCommand` –≤ `render.yaml`
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Adobe API credentials

